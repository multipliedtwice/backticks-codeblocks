"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processText=void 0;const e="```",t="[^\\S\\r\\n]*",s="([\\s\\S]*?)",r="```",n=new RegExp(e+t+s+t+r,"gs"),o="ESC_TICK",p=/(?<!`)`(?!`)(.*?)`(?!`)/g,l=(e,t,s)=>e.replace(t,s),c=e=>l(e,/\\`/g,o),g=e=>l(e,/```[\s]*``` /g,""),u=(e,t,s)=>e.substring(t,s),x=(e,t)=>{let s=e[1];return t||(s=l(s,/`/g,"")),{code:l(s,new RegExp(o,"g"),"`"),isBlock:t}},i=(e,t,s)=>{s<t.length&&e.push(u(t,s))},d=(e,t,s,r)=>{s<r&&e.push(u(t,s,r))},a=(e,t,s)=>{e.push(x(t,s))},f=(e,t,s)=>{const r=[];let n,o=0;for(;null!==(n=e.exec(s));)d(r,s,o,n.index),a(r,n,t),o=e.lastIndex;return i(r,s,o),r},h=e=>"string"==typeof e,E=e=>""!==e.trim(),S=e=>h(e)&&E(e),T=e=>!h(e)&&E(e.code),_=e=>h(e)?f(p,!1,e):[e],b=e=>S(e)||T(e),v=e=>{e=c(e),e=g(e);return f(n,!0,e).filter(b).flatMap(_)};exports.processText=v;